<!DOCTYPE html>
<html>
  <head>
    <style>
      .body {
        background-color: rgb(190, 184, 184);
      }
      .container-grid {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        grid-template-rows: repeat(5, 1fr);
        width: fit-content;
        /*max-width: 100px;*/
        margin: auto;
      }
      .item {
        color: white;
        border-color: black;
        /*border-radius: 0px;*/
        font-size: 1.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        background-size: cover;
        background-position: center;
        width: 150px;
        height: 150px;
        border: 1px solid black;
      }
      .yw {
        background-color: rgba(241, 181, 28, 255);
      }
      .yw:hover {
        background-color: white;
      }
      .wh {
        background-color: white;
      }
      .wh:hover {
        background-color: rgba(241, 181, 28, 255);
      }
      .buttonspace {
        /*width: fit-content;*/
        align-items: center;
        background-position: center;
        margin: auto;
      }
      .btn {
        background-color: #b880ff;

        color: #2d2152;
        width: 100px;
        height: 75px;
        align-items: center;
        /*background-position: center;*/
        justify-content: center;
        border-radius: 10pz;
        box-shadow: 10px;
      }
      .btn:hover {
        color: #2d2152;
        background-color: #ff56bc;
      }
    </style>
    <a href="https://www.walnut.io/"
      ><img
        style="width: 300px; height: 100px"
        src="/walnut-logo.png"
        alt="Go to official website of walnut.io"
    /></a>
  </head>
  <body class="body">
    <!--Buttons-->
    <div class="buttonspace">
      <button class="Start btn" id="Start">Start</button>
      <button class="Stop btn" id="Stop">Stop</button>
    </div>
    <!--grid's cells-->
    <div class="container-grid">
      <div class="item sp1 wh"></div>
      <div class="item sp2 yw"></div>
      <div class="item sp3 yw"></div>
      <div class="item sp4 yw"></div>
      <div class="item sp5 yw"></div>
      <div class="item sp6 wh"></div>
      <div class="item sp7 yw"></div>
      <div class="item sp8 wh"></div>
      <div class="item sp9 wh"></div>
      <div class="item sp10 wh"></div>
      <div class="item sp11 yw"></div>
      <div class="item sp12 wh"></div>
      <div class="item sp13 yw"></div>
      <div class="item sp14 wh"></div>
      <div class="item sp15 yw"></div>
      <div class="item sp16 yw"></div>
      <div class="item sp17 yw"></div>
      <div class="item sp18 wh"></div>
      <div class="item sp19 wh"></div>
      <div class="item sp20 wh"></div>
      <div class="item sp21 yw"></div>
      <div class="item sp22 wh"></div>
      <div class="item sp23 wh"></div>
      <div class="item sp24 wh"></div>
      <div class="item sp25 wh"></div>
    </div>
    <!--<div><img src="/squirell.png" alt="" /></div>-->
    <script>
      let counting = true;
      let find = false;
      let counthover = 0;
      let countyw = 0;
      let countwh = 0;
      //time
      let seconds = 0;
      let periodtm = 0;

      document.getElementById("Start").addEventListener("click", () => {
        alert(
          "An image will appear in the yellow cells, and your mission is to find the square with the image with the fewest checked squares.\n You can cancel the game by clicking the Stop button."
        );
        let counting = true;
        counthover = 0;
        countyw = 0;
        countwh = 0;
        seconds = 0;
        //to count the seconds
        clearInterval(periodtm);
        periodtm = setInterval(() => {
          seconds++;
        }, 1000);

        const boxes = document.querySelectorAll(".item");
        boxes.forEach((cell) => {
          cell.style.backgroundImage = "";
          delete cell.dataset.target;
        });

        const cellsyw = document.querySelectorAll(".yw");
        const random = Math.floor(Math.random() * cellsyw.length);
        const degrees = Math.floor(Math.random() * 4) * 90;
        const randomitem = cellsyw[random];
        find = false;

        randomitem.style.backgroundImage = "url('/squirell.png')";
        randomitem.style.transform = `rotate(${degrees}deg)`;
        randomitem.style.backgroundSize = "cover";
        randomitem.style.backgroundPosition = "center";
        randomitem.dataset.target = "true";
      });

      //const StopBt = document.querySelector(".Stop");
      const cells = document.querySelectorAll(".item");

      cells.forEach((cell) => {
        cell.addEventListener("mouseenter", () => {
          if (!counting || find) return;
          counthover++;

          if (cell.classList.contains("yw")) {
            countyw++;
          } else if (cell.classList.contains("wh")) {
            countwh++;
          }

          if (cell.dataset.target === "true") {
            find = true;
            counting = true;
            alert(
              "You found the image!!! \n You looked into: \n Yellow cells :" +
                countyw +
                "\n White cells: " +
                countwh +
                "\n Total: " +
                counthover +
                "\n Time: " +
                seconds +
                " seconds."
            );
          }
        });
      });

      document.getElementById("Stop").addEventListener("click", () => {
        counting = true;
        find = false;
        if (!find) {
          alert(
            "Counting stopped. \n You looked into: \n Yellow cells :" +
              countyw +
              "\n White cells: " +
              countwh +
              "\n Total: " +
              counthover +
              seconds +
                " seconds."
          );
        }
      });
    </script>
  </body>
</html>
