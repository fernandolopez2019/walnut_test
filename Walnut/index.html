<!DOCTYPE html>
<html>
  <head>
    <style>
      .container-grid {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        grid-template-rows: repeat(5, 1fr);
        width: fit-content;
        /*max-width: 100px;*/
        margin: auto;
      }
      .item {
        color: white;
        border-color: black;
        /*border-radius: 0px;*/
        font-size: 1.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        background-size: cover;
        background-position: center;
        width: 150px;
        height: 150px;
        border: 1px solid black;
      }
      .yw {
        background-color: rgba(241, 181, 28, 255);
      }
      .yw:hover {
        background-color: white;
      }
      .wh {
        background-color: white;
      }
      .wh:hover {
        background-color: rgba(241, 181, 28, 255);
      }
    </style>
  </head>
  <body>
    <div>
      <button class="Start" id="Start">Start</button>
      <button class="Stop" id="Stop">Stop</button>
      <label for="g-size" style="background-color: rgb(221, 218, 218)"
        >Select the Pick mode</label
      >
      <select id="g-size">
        Pick mode
        <option value="s3">3x3</option>
        <option value="s4">4x4</option>
      </select>
    </div>
    <div class="container-grid">
      <div class="item sp1 wh">1</div>
      <div class="item sp2 yw">2</div>
      <div class="item sp3 yw">3</div>
      <div class="item sp4 yw">4</div>
      <div class="item sp5 yw">5</div>
      <div class="item sp6 wh">6</div>
      <div class="item sp7 yw">7</div>
      <div class="item sp8 wh">8</div>
      <div class="item sp9 wh">9</div>
      <div class="item sp10 wh">10</div>
      <div class="item sp11 yw">11</div>
      <div class="item sp12 wh">12</div>
      <div class="item sp13 yw">13</div>
      <div class="item sp14 wh">14</div>
      <div class="item sp15 yw">15</div>
      <div class="item sp16 yw">16</div>
      <div class="item sp17 yw">17</div>
      <div class="item sp18 wh">18</div>
      <div class="item sp19 wh">19</div>
      <div class="item sp20 wh">20</div>
      <div class="item sp21 yw">21</div>
      <div class="item sp22 wh">22</div>
      <div class="item sp23 wh">23</div>
      <div class="item sp24 wh">24</div>
      <div class="item sp25 wh">25</div>
    </div>
    <!--<div><img src="/squirell.png" alt="" /></div>-->
    <script>
      let counting = true;
      let find = false;
      let counthover = 0;
      let countyw = 0;
      let countwh = 0;

      document.getElementById("Start").addEventListener("click", () => {
        let counting = true;
        counthover = 0;
        countyw = 0;
        countwh = 0;

        const boxes = document.querySelectorAll(".item");
        boxes.forEach((cell) => {
          cell.style.backgroundImage = "";
          delete cell.dataset.target;
        });

        const cellsyw = document.querySelectorAll(".yw");
        const random = Math.floor(Math.random() * cellsyw.length);
        const randomitem = cellsyw[random];
        find = false;

        randomitem.style.backgroundImage = "url('/squirell.png')";
        randomitem.style.backgroundSize = "cover";
        randomitem.style.backgroundPosition = "center";
        randomitem.dataset.target = "true";
      });

      //const StopBt = document.querySelector(".Stop");
      const cells = document.querySelectorAll(".item");

      cells.forEach((cell) => {
        cell.addEventListener("mouseenter", () => {
          
          if (!counting || find) return;
          counthover++;

          if (cell.classList.contains("yw")) {
            countyw++;
          } else if (cell.classList.contains("wh")) {
            countwh++;
          }

          if (cell.dataset.target === "true") {
            find = true;
            counting = true;
            alert(
              "You found the image!, \n You looked into: \n Yellow cells :" +
                countyw +
                "\n White cells: " +
                countwh +
                "\n Total: " +
                counthover
            );
          }

          
        });
      });

      document.getElementById("Stop").addEventListener("click", () => {
        counting = true;
        find = false;
        if (!find) {
          alert(
            "Counting stopped. \n You looked into: \n Yellow cells :" +
              countyw +
              "\n White cells: " +
              countwh +
              "\n Total: " +
              counthover
          );
        }
      });
    </script>
  </body>
</html>
